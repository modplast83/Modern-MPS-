<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPBF Next - نظام إدارة مصنع الأكياس البلاستيكية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'cairo': ['Cairo', 'sans-serif'],
                        'inter': ['Inter', 'sans-serif']
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        },
                        success: {
                            50: '#ecfdf5',
                            500: '#10b981',
                            600: '#059669'
                        },
                        warning: {
                            50: '#fffbeb',
                            500: '#f59e0b',
                            600: '#d97706'
                        },
                        danger: {
                            50: '#fef2f2',
                            500: '#ef4444',
                            600: '#dc2626'
                        }
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-gray-50 font-cairo">
    <!-- Header -->
    <!-- @COMPONENT: Header [navigation, user profile, notifications] -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="flex items-center justify-between px-4 py-3">
            <!-- Logo and Title -->
            <div class="flex items-center space-x-4 space-x-reverse">
                <div class="bg-primary-600 text-white p-2 rounded-lg">
                    <i class="fas fa-industry text-xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-gray-900">MPBF Next</h1>
                    <p class="text-sm text-gray-600">نظام إدارة مصنع الأكياس البلاستيكية</p>
                </div>
            </div>

            <!-- Right Side Actions -->
            <div class="flex items-center space-x-3 space-x-reverse">
                <!-- AI Assistant Button -->
                <button class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 space-x-reverse">
                    <i class="fas fa-robot"></i>
                    <span class="hidden sm:inline">المساعد الذكي</span>
                </button>
                
                <!-- Notifications -->
                <button class="relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors">
                    <i class="fas fa-bell text-lg"></i>
                    <span class="absolute -top-1 -right-1 bg-danger-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">3</span>
                </button>

                <!-- User Profile -->
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="text-right hidden sm:block">
                        <p class="text-sm font-medium text-gray-900">أحمد محمد</p>
                        <p class="text-xs text-gray-600">مدير الإنتاج</p>
                    </div>
                    <div class="h-8 w-8 bg-primary-600 rounded-full flex items-center justify-center text-white font-medium text-sm">
                        أم
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <!-- Main Container -->
    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <!-- @COMPONENT: Sidebar [module navigation, collapsed/expanded states] -->
        <aside class="bg-white shadow-sm border-l border-gray-200 w-64 hidden lg:block">
            <nav class="p-4">
                <div class="space-y-2">
                    <!-- Production Module -->
                    <div class="bg-primary-50 border border-primary-200 rounded-lg p-3">
                        <div class="flex items-center space-x-3 space-x-reverse text-primary-700 mb-2">
                            <i class="fas fa-cogs text-lg"></i>
                            <span class="font-medium">الإنتاج</span>
                        </div>
                        <div class="space-y-1 mr-6">
                            <a href="#" class="block text-sm text-primary-600 hover:text-primary-800 py-1">الطلبات</a>
                            <a href="#" class="block text-sm text-primary-600 hover:text-primary-800 py-1">أوامر التشغيل</a>
                            <a href="#" class="block text-sm text-primary-600 hover:text-primary-800 py-1">الرولات</a>
                            <a href="#" class="block text-sm text-primary-600 hover:text-primary-800 py-1">إدارة الهدر</a>
                        </div>
                    </div>

                    <!-- Warehouse Module -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-warehouse text-lg"></i>
                            <span class="font-medium">المستودع</span>
                        </div>
                    </div>

                    <!-- Quality Module -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-clipboard-check text-lg"></i>
                            <span class="font-medium">الجودة</span>
                        </div>
                    </div>

                    <!-- HR Module -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-users text-lg"></i>
                            <span class="font-medium">الموارد البشرية</span>
                        </div>
                    </div>

                    <!-- Maintenance Module -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-wrench text-lg"></i>
                            <span class="font-medium">الصيانة</span>
                        </div>
                    </div>

                    <!-- Definitions -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-database text-lg"></i>
                            <span class="font-medium">التعريفات</span>
                        </div>
                    </div>

                    <!-- Reports -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-chart-bar text-lg"></i>
                            <span class="font-medium">التقارير</span>
                        </div>
                    </div>

                    <!-- Settings -->
                    <div class="hover:bg-gray-50 rounded-lg p-3 cursor-pointer transition-colors">
                        <div class="flex items-center space-x-3 space-x-reverse text-gray-700">
                            <i class="fas fa-cog text-lg"></i>
                            <span class="font-medium">الإعدادات</span>
                        </div>
                    </div>
                </div>
            </nav>
        </aside>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- Mobile Bottom Navigation -->
        <!-- @COMPONENT: MobileNav [bottom navigation for mobile devices] -->
        <div class="lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40">
            <div class="flex justify-around py-2">
                <button class="flex flex-col items-center p-2 text-primary-600">
                    <i class="fas fa-cogs text-lg"></i>
                    <span class="text-xs mt-1">الإنتاج</span>
                </button>
                <button class="flex flex-col items-center p-2 text-gray-600">
                    <i class="fas fa-warehouse text-lg"></i>
                    <span class="text-xs mt-1">المستودع</span>
                </button>
                <button class="flex flex-col items-center p-2 text-gray-600">
                    <i class="fas fa-clipboard-check text-lg"></i>
                    <span class="text-xs mt-1">الجودة</span>
                </button>
                <button class="flex flex-col items-center p-2 text-gray-600">
                    <i class="fas fa-users text-lg"></i>
                    <span class="text-xs mt-1">الموارد</span>
                </button>
                <button class="flex flex-col items-center p-2 text-gray-600">
                    <i class="fas fa-bars text-lg"></i>
                    <span class="text-xs mt-1">المزيد</span>
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: MobileNav -->

        <!-- Main Content Area -->
        <main class="flex-1 p-4 pb-20 lg:pb-4">
            <!-- Dashboard Stats -->
            <!-- @COMPONENT: DashboardStats [KPI cards, production metrics] -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                <!-- Active Orders -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">الطلبات النشطة</p>
                            <p class="text-3xl font-bold text-gray-900 mt-1">24</p>
                            <div class="flex items-center mt-2 text-sm">
                                <span class="text-success-600 flex items-center">
                                    <i class="fas fa-arrow-up mr-1"></i>
                                    12%
                                </span>
                                <span class="text-gray-600 mr-2">عن الأسبوع الماضي</span>
                            </div>
                        </div>
                        <div class="bg-primary-100 p-3 rounded-full">
                            <i class="fas fa-clipboard-list text-primary-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <!-- Production Progress -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">معدل الإنتاج</p>
                            <p class="text-3xl font-bold text-gray-900 mt-1">87%</p>
                            <div class="flex items-center mt-2 text-sm">
                                <span class="text-success-600 flex items-center">
                                    <i class="fas fa-arrow-up mr-1"></i>
                                    5%
                                </span>
                                <span class="text-gray-600 mr-2">عن الشهر الماضي</span>
                            </div>
                        </div>
                        <div class="bg-success-100 p-3 rounded-full">
                            <i class="fas fa-chart-line text-success-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <!-- Quality Score -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">نسبة الجودة</p>
                            <p class="text-3xl font-bold text-gray-900 mt-1">95%</p>
                            <div class="flex items-center mt-2 text-sm">
                                <span class="text-success-600 flex items-center">
                                    <i class="fas fa-arrow-up mr-1"></i>
                                    2%
                                </span>
                                <span class="text-gray-600 mr-2">عن الأسبوع الماضي</span>
                            </div>
                        </div>
                        <div class="bg-warning-100 p-3 rounded-full">
                            <i class="fas fa-star text-warning-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <!-- Waste Percentage -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-600">نسبة الهدر</p>
                            <p class="text-3xl font-bold text-gray-900 mt-1">3.2%</p>
                            <div class="flex items-center mt-2 text-sm">
                                <span class="text-danger-600 flex items-center">
                                    <i class="fas fa-arrow-down mr-1"></i>
                                    1.1%
                                </span>
                                <span class="text-gray-600 mr-2">عن الشهر الماضي</span>
                            </div>
                        </div>
                        <div class="bg-danger-100 p-3 rounded-full">
                            <i class="fas fa-trash text-danger-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: DashboardStats -->

            <!-- Production Workflow Tabs -->
            <!-- @COMPONENT: ProductionTabs [film, printing, cutting stages] -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-6">
                <!-- Tab Headers -->
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 space-x-reverse px-6">
                        <button class="border-b-2 border-primary-600 text-primary-600 py-4 px-1 text-sm font-medium">
                            مرحلة الفيلم
                        </button>
                        <button class="border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-4 px-1 text-sm font-medium">
                            مرحلة الطباعة
                        </button>
                        <button class="border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-4 px-1 text-sm font-medium">
                            مرحلة التقطيع
                        </button>
                    </nav>
                </div>

                <!-- Tab Content - Film Stage -->
                <div class="p-6">
                    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4">
                        <h3 class="text-lg font-medium text-gray-900 mb-2 lg:mb-0">أوامر التشغيل - مرحلة الفيلم</h3>
                        <button class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 space-x-reverse text-sm">
                            <i class="fas fa-plus"></i>
                            <span>إنشاء رول جديد</span>
                        </button>
                    </div>

                    <!-- Job Orders Table -->
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">رقم الأمر</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">العميل</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">المنتج</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الكمية المطلوبة</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الكمية المنتجة</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">التقدم</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الإجراءات</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200" data-mock="true">
                                <!-- @MAP: jobOrders.map(order => ( -->
                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">JO-2024-001</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">مجموعة الراجحي التجارية</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">كيس علاقي أبيض 30×40</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1,200 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">850 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="w-full bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-primary-600 h-2 rounded-full" style="width: 70%"></div>
                                            </div>
                                            <span class="text-sm text-gray-900">70%</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-primary-600 hover:text-primary-900 ml-3" data-event="click:addRoll">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                        <button class="text-gray-600 hover:text-gray-900" data-event="click:viewDetails">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">JO-2024-002</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">مؤسسة الأهلي للتجارة</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">كيس بنانة ملون 25×35</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">800 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">320 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="w-full bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-warning-500 h-2 rounded-full" style="width: 40%"></div>
                                            </div>
                                            <span class="text-sm text-gray-900">40%</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-primary-600 hover:text-primary-900 ml-3" data-event="click:addRoll">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                        <button class="text-gray-600 hover:text-gray-900" data-event="click:viewDetails">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">JO-2024-003</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">شركة المدينة للمواد الغذائية</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">كيس بدون تخريم 20×30</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">1,500 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">75 كجم</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <div class="w-full bg-gray-200 rounded-full h-2 mr-3">
                                                <div class="bg-danger-500 h-2 rounded-full" style="width: 5%"></div>
                                            </div>
                                            <span class="text-sm text-gray-900">5%</span>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                        <button class="text-primary-600 hover:text-primary-900 ml-3" data-event="click:addRoll">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                        <button class="text-gray-600 hover:text-gray-900" data-event="click:viewDetails">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </td>
                                </tr>
                                <!-- @END_MAP )) -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: ProductionTabs -->

            <!-- Recent Rolls and Quick Actions -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- Recent Rolls -->
                <!-- @COMPONENT: RecentRolls [latest roll production data] -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="px-6 py-4 border-b border-gray-200">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-medium text-gray-900">آخر الرولات المنتجة</h3>
                            <button class="text-primary-600 hover:text-primary-800 text-sm font-medium">
                                عرض الكل
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4" data-mock="true">
                            <!-- @MAP: recentRolls.map(roll => ( -->
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="bg-primary-600 text-white p-2 rounded-lg">
                                        <i class="fas fa-qrcode"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">R-2024-156</p>
                                        <p class="text-xs text-gray-600">كيس علاقي أبيض 30×40</p>
                                        <p class="text-xs text-gray-600">الوزن: 45.2 كجم</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800">
                                        جاهز للطباعة
                                    </span>
                                    <p class="text-xs text-gray-600 mt-1">منذ 15 دقيقة</p>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="bg-primary-600 text-white p-2 rounded-lg">
                                        <i class="fas fa-qrcode"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">R-2024-155</p>
                                        <p class="text-xs text-gray-600">كيس بنانة ملون 25×35</p>
                                        <p class="text-xs text-gray-600">الوزن: 38.7 كجم</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-warning-100 text-warning-800">
                                        تحت الطباعة
                                    </span>
                                    <p class="text-xs text-gray-600 mt-1">منذ ساعة</p>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="bg-primary-600 text-white p-2 rounded-lg">
                                        <i class="fas fa-qrcode"></i>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">R-2024-154</p>
                                        <p class="text-xs text-gray-600">كيس بدون تخريم 20×30</p>
                                        <p class="text-xs text-gray-600">الوزن: 29.1 كجم</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800">
                                        جاهز للتقطيع
                                    </span>
                                    <p class="text-xs text-gray-600 mt-1">منذ 3 ساعات</p>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: RecentRolls -->

                <!-- Machine Status and Quick Actions -->
                <!-- @COMPONENT: MachineStatus [real-time machine monitoring] -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                    <div class="px-6 py-4 border-b border-gray-200">
                        <h3 class="text-lg font-medium text-gray-900">حالة المكائن</h3>
                    </div>
                    <div class="p-6">
                        <div class="space-y-4" data-mock="true">
                            <!-- @MAP: machines.map(machine => ( -->
                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="h-3 w-3 bg-success-500 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">إكسترودر 1</p>
                                        <p class="text-xs text-gray-600">العامل: محمد أحمد</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="text-sm font-medium text-success-600">يعمل</span>
                                    <p class="text-xs text-gray-600">الإنتاجية: 85%</p>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="h-3 w-3 bg-warning-500 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">مكينة الطباعة 2</p>
                                        <p class="text-xs text-gray-600">العامل: خالد سعد</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="text-sm font-medium text-warning-600">صيانة</span>
                                    <p class="text-xs text-gray-600">منذ 30 دقيقة</p>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="h-3 w-3 bg-success-500 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">مكينة التقطيع 1</p>
                                        <p class="text-xs text-gray-600">العامل: عبدالله علي</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="text-sm font-medium text-success-600">يعمل</span>
                                    <p class="text-xs text-gray-600">الإنتاجية: 92%</p>
                                </div>
                            </div>

                            <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div class="flex items-center space-x-3 space-x-reverse">
                                    <div class="h-3 w-3 bg-danger-500 rounded-full"></div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900">إكسترودر 3</p>
                                        <p class="text-xs text-gray-600">العامل: غير مخصص</p>
                                    </div>
                                </div>
                                <div class="text-left">
                                    <span class="text-sm font-medium text-danger-600">متوقف</span>
                                    <p class="text-xs text-gray-600">منذ ساعتين</p>
                                </div>
                            </div>
                            <!-- @END_MAP )) -->
                        </div>

                        <!-- Quick Actions -->
                        <div class="mt-6 pt-6 border-t border-gray-200">
                            <h4 class="text-sm font-medium text-gray-900 mb-3">إجراءات سريعة</h4>
                            <div class="grid grid-cols-2 gap-3">
                                <button class="bg-primary-600 hover:bg-primary-700 text-white px-3 py-2 rounded-lg transition-colors text-xs" data-event="click:reportMaintenance">
                                    تبليغ عطل
                                </button>
                                <button class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg transition-colors text-xs" data-event="click:printQR">
                                    طباعة QR
                                </button>
                                <button class="bg-success-600 hover:bg-success-700 text-white px-3 py-2 rounded-lg transition-colors text-xs" data-event="click:qualityCheck">
                                    فحص جودة
                                </button>
                                <button class="bg-warning-600 hover:bg-warning-700 text-white px-3 py-2 rounded-lg transition-colors text-xs" data-event="click:wasteEntry">
                                    تسجيل هدر
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: MachineStatus -->
            </div>

            <!-- AI Assistant Chat - Fixed Position -->
            <!-- @COMPONENT: AIAssistant [chat interface, voice commands] -->
            <div class="fixed bottom-20 lg:bottom-6 left-6 z-40" id="aiAssistant">
                <!-- Chat Toggle Button -->
                <button id="chatToggle" class="bg-primary-600 hover:bg-primary-700 text-white p-4 rounded-full shadow-lg transition-colors">
                    <i class="fas fa-robot text-xl"></i>
                </button>

                <!-- Chat Interface (Hidden by default) -->
                <div id="chatInterface" class="hidden absolute bottom-16 left-0 w-80 bg-white rounded-lg shadow-xl border border-gray-200 max-h-96 flex flex-col">
                    <!-- Chat Header -->
                    <div class="flex items-center justify-between p-4 border-b border-gray-200">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="bg-primary-600 text-white p-2 rounded-full">
                                <i class="fas fa-robot text-sm"></i>
                            </div>
                            <div>
                                <h4 class="text-sm font-medium text-gray-900">المساعد الذكي</h4>
                                <p class="text-xs text-gray-600">متصل</p>
                            </div>
                        </div>
                        <button id="chatClose" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>

                    <!-- Chat Messages -->
                    <div class="flex-1 p-4 overflow-y-auto space-y-3" data-mock="true">
                        <div class="flex items-start space-x-2 space-x-reverse">
                            <div class="bg-primary-600 text-white p-1 rounded-full flex-shrink-0">
                                <i class="fas fa-robot text-xs"></i>
                            </div>
                            <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                                <p class="text-sm text-gray-900">مرحباً! كيف يمكنني مساعدتك اليوم؟</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-2 space-x-reverse justify-end">
                            <div class="bg-primary-600 text-white rounded-lg p-3 max-w-xs">
                                <p class="text-sm">أعرض لي حالة الطلب رقم JO-2024-001</p>
                            </div>
                        </div>

                        <div class="flex items-start space-x-2 space-x-reverse">
                            <div class="bg-primary-600 text-white p-1 rounded-full flex-shrink-0">
                                <i class="fas fa-robot text-xs"></i>
                            </div>
                            <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                                <p class="text-sm text-gray-900">طلب JO-2024-001:</p>
                                <ul class="text-xs text-gray-700 mt-1 space-y-1">
                                    <li>• العميل: مجموعة الراجحي التجارية</li>
                                    <li>• المنتج: كيس علاقي أبيض 30×40</li>
                                    <li>• التقدم: 70% (850/1200 كجم)</li>
                                    <li>• الحالة: تحت الإنتاج</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Input -->
                    <div class="p-4 border-t border-gray-200">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <input type="text" placeholder="اكتب رسالتك هنا..." class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <button class="bg-primary-600 hover:bg-primary-700 text-white p-2 rounded-lg transition-colors" data-event="click:sendMessage">
                                <i class="fas fa-paper-plane text-sm"></i>
                            </button>
                            <button class="bg-gray-600 hover:bg-gray-700 text-white p-2 rounded-lg transition-colors" data-event="click:voiceInput">
                                <i class="fas fa-microphone text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: AIAssistant -->
        </main>
    </div>

    <!-- Modals and Overlays -->
    <!-- @COMPONENT: RollCreationModal [form for creating new rolls] -->
    <div id="rollModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">إنشاء رول جديد</h3>
            </div>
            <div class="p-6">
                <form class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">أمر التشغيل</label>
                        <select class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option>JO-2024-001 - كيس علاقي أبيض 30×40</option>
                            <option>JO-2024-002 - كيس بنانة ملون 25×35</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">الوزن (كجم)</label>
                        <input type="number" step="0.1" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500" placeholder="45.2">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">المكينة</label>
                        <select class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option>إكسترودر 1</option>
                            <option>إكسترودر 2</option>
                            <option>إكسترودر 3</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">العامل</label>
                        <select class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500">
                            <option>محمد أحمد</option>
                            <option>خالد سعد</option>
                            <option>عبدالله علي</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 space-x-reverse">
                <button class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg transition-colors" data-event="click:closeModal">
                    إلغاء
                </button>
                <button class="bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg transition-colors" data-event="click:createRoll">
                    إنشاء رول
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: RollCreationModal -->

    <!-- Success Notification -->
    <!-- @COMPONENT: Notification [success/error/warning messages] -->
    <div id="notification" class="hidden fixed top-4 left-4 right-4 lg:left-auto lg:right-4 lg:w-96 bg-success-50 border border-success-200 rounded-lg p-4 z-50">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <i class="fas fa-check-circle text-success-600"></i>
            </div>
            <div class="mr-3">
                <p class="text-sm font-medium text-success-800">تم إنشاء الرول بنجاح</p>
                <p class="text-sm text-success-700">رقم الرول: R-2024-157</p>
            </div>
            <div class="mr-auto">
                <button class="text-success-500 hover:text-success-600" data-event="click:closeNotification">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: Notification -->

    <script>
        (function() {
            // Chat interface toggle
            const chatToggle = document.getElementById('chatToggle');
            const chatInterface = document.getElementById('chatInterface');
            const chatClose = document.getElementById('chatClose');

            chatToggle?.addEventListener('click', () => {
                chatInterface?.classList.toggle('hidden');
            });

            chatClose?.addEventListener('click', () => {
                chatInterface?.classList.add('hidden');
            });

            // Modal handling
            const rollModal = document.getElementById('rollModal');
            const notification = document.getElementById('notification');

            // Example modal show (would be triggered by real buttons)
            document.addEventListener('click', (e) => {
                if (e.target.closest('[data-event*="addRoll"]')) {
                    rollModal?.classList.remove('hidden');
                }
                if (e.target.closest('[data-event*="closeModal"]')) {
                    rollModal?.classList.add('hidden');
                }
                if (e.target.closest('[data-event*="createRoll"]')) {
                    rollModal?.classList.add('hidden');
                    notification?.classList.remove('hidden');
                    setTimeout(() => {
                        notification?.classList.add('hidden');
                    }, 3000);
                }
                if (e.target.closest('[data-event*="closeNotification"]')) {
                    notification?.classList.add('hidden');
                }
            });

            // TODO: Implement business logic for:
            // - Real-time production data updates
            // - WebSocket connections for live machine status
            // - Form validation and submission
            // - API calls for CRUD operations
            // - QR code generation and printing
            // - Voice command processing
            // - AI assistant message handling
            // - Progress calculation algorithms
            // - Notification system with database persistence
            
        })();
    </script>
</body>
</html>