
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

âœ… Meta WhatsApp API service initialized successfully
âœ… Twilio WhatsApp service initialized successfully
ğŸš€ Using Meta WhatsApp Business API directly
âœ… Using PostgreSQL session store for development - sessions will persist across server restarts
ğŸ”’ Performing startup password security check...
âœ… Password security check passed: All 50 user passwords are properly hashed
[SystemHealthMonitor] Ù†Ø¸Ø§Ù… Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ù…ÙÙØ¹Ù„
[SystemHealthMonitor] ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª
[AlertManager] Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ù…ÙÙØ¹Ù„
[DataValidator] Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙØ¹Ù„
[DataValidator] ØªÙ… ØªØ­Ù…ÙŠÙ„ 9 Ù‚Ø§Ø¹Ø¯Ø© ØªØ­Ù‚Ù‚ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
[SmartAlerts] Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© Ù…ÙÙØ¹Ù„ âœ…
[AlertManager] ØªÙ… ØªØ­Ù…ÙŠÙ„ 0 Ù‚Ø§Ø¹Ø¯Ø© ØªØ­Ø°ÙŠØ± Ù†Ø´Ø·Ø©
[DataValidator] ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¯Ù‚Ù‚Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ©
[DataValidator] ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ âœ…
[AlertManager] ØªÙ… ØªØ­Ù…ÙŠÙ„ 0 ØªØ­Ø°ÙŠØ± Ù†Ø´Ø·
[AlertManager] ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ âœ…
[SystemHealthMonitor] ØªÙ… ØªØ­Ù…ÙŠÙ„ 0 Ù…Ù† Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØªØ­Ø°ÙŠØ± Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
[SystemHealthMonitor] ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙØ­ÙˆØµØ§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
[SystemHealthMonitor] Ø¨Ø¯Ø£Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ©
[SystemHealthMonitor] ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…
1:10:11 AM [express] serving on port 5000
1:12:02 AM [express] GET /api/me 304 in 324ms :: {"user":"[Object]","success":true}
ğŸ”„ Session extended for user 1 on /api/notifications
ğŸ”„ Session extended for user 1 on /api/dashboard/stats
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
ğŸ”„ Session extended for user 1 on /api/sections
ğŸ”„ Session extended for user 1 on /api/production/film-queue
1:12:02 AM [express] GET /api/notifications 200 in 154ms :: {"data":"[Array:2]"}
1:12:03 AM [express] GET /api/production/film-queue 304 in 169ms :: {"data":"[Array:1]"}
1:12:03 AM [express] GET /api/sections 304 in 331ms :: {"data":"[Array:7]"}
1:12:03 AM [express] GET /api/dashboard/stats 304 in 344ms :: {"activeOrders":0,"productionRate":0,"â€¦
ğŸ”„ Session extended for user 1 on /api/production/cutting-queue
ğŸ”„ Session extended for user 1 on /api/production/printing-queue
ğŸ”„ Session extended for user 1 on /api/production/grouped-cutting-queue
1:12:03 AM [express] GET /api/production/cutting-queue 304 in 122ms :: {"data":"[Array:0]"}
1:12:03 AM [express] GET /api/production/hierarchical-orders 304 in 477ms :: {"data":"[Array:1]"}
1:12:03 AM [express] GET /api/production/printing-queue 304 in 124ms :: {"data":"[Array:0]"}
1:12:03 AM [express] GET /api/production/grouped-cutting-queue 304 in 121ms :: {"data":"[Array:0]"}
ğŸ”„ Session extended for user 1 on /api/rolls
ğŸ”„ Session extended for user 1 on /api/machines
1:12:03 AM [express] GET /api/rolls 304 in 119ms :: {"data":"[Array:0]"}
1:12:03 AM [express] GET /api/machines 304 in 127ms :: {"data":"[Array:25]"}
ğŸ”„ Session extended for user 1 on /api/production-orders
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[System] Applying database optimizations...
[DB Optimization] Creating performance indexes...
[DB Optimization] Creating text search indexes...
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713123716_82fgcz16w
[SSE] New connection established for user 1, connectionId: 1_1759713123716_82fgcz16w
1:12:03 AM [express] GET /api/production-orders 304 in 123ms :: {"data":"[Array:1]"}
[DB Optimization] Text search indexes created successfully
[DB Optimization] Performance indexes created successfully
[Cache] Cleaned up 2 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
1:13:34 AM [express] GET /api/production/hierarchical-orders 304 in 425ms :: {"data":"[Array:1]"}
[Cache] Cleaned up 1 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/notifications
ğŸ”„ Session extended for user 1 on /api/attendance
ğŸ”„ Session extended for user 1 on /api/users/1
ğŸ”„ Session extended for user 1 on /api/violations
ğŸ”„ Session extended for user 1 on /api/user-requests
Fetching user requests - Session ID: _-0dYec1wrkXKeuIGvuiV7cWBndlVfAT
Fetching user requests - User ID in session: 1
Found 0 user requests
1:14:20 AM [express] GET /api/notifications 304 in 312ms :: {"data":"[Array:2]"}
1:14:20 AM [express] GET /api/attendance 304 in 323ms :: {"data":"[Array:20]"}
1:14:20 AM [express] GET /api/users/1 304 in 312ms :: {"id":1,"username":"AbuKhalid","display_name":â€¦
1:14:20 AM [express] GET /api/violations 304 in 314ms :: {"data":"[Array:0]"}
1:14:20 AM [express] GET /api/user-requests 304 in 316ms :: {"data":"[Array:0]"}
ğŸ”„ Session extended for user 1 on /api/attendance/daily-status/1
1:14:20 AM [express] GET /api/attendance/daily-status/1 304 in 122ms :: {"hasCheckedIn":false,"hasStâ€¦
ğŸ”„ Session extended for user 1 on /api/attendance
Creating attendance with data: { user_id: 1, status: 'Ø­Ø§Ø¶Ø±', date: '2025-10-06' }
Executing query: 
        INSERT INTO attendance (user_id, status, check_in_time, check_out_time, lunch_start_time, lunch_end_time, notes, date)
        VALUES ($1, $2, $3, $4, $5, $6, $7, $8)
        RETURNING *
       with values: [
  1,
  'Ø­Ø§Ø¶Ø±',
  '2025-10-06T01:14:23.218Z',
  null,
  null,
  null,
  '',
  '2025-10-06'
]
Created attendance: {
  id: 75,
  user_id: 1,
  status: 'Ø­Ø§Ø¶Ø±',
  check_in_time: 2025-10-06T01:14:23.218Z,
  check_out_time: null,
  lunch_start_time: null,
  lunch_end_time: null,
  notes: '',
  created_by: null,
  updated_by: null,
  date: 2025-10-06T00:00:00.000Z,
  created_at: 2025-10-06T01:14:23.252Z,
  updated_at: 2025-10-06T01:14:23.252Z
}
1:14:23 AM [express] POST /api/attendance 201 in 257ms :: {"id":75,"user_id":"[REDACTED]","status":"â€¦
ğŸ”„ Session extended for user 1 on /api/attendance/daily-status/1
ğŸ”„ Session extended for user 1 on /api/attendance
1:14:24 AM [express] GET /api/attendance/daily-status/1 200 in 125ms :: {"hasCheckedIn":true,"hasStaâ€¦
1:14:24 AM [express] GET /api/attendance 200 in 126ms :: {"data":"[Array:21]"}
ğŸ”„ Session extended for user 1 on /api/users
ğŸ”„ Session extended for user 1 on /api/customers
ğŸ”„ Session extended for user 1 on /api/orders
ğŸ”„ Session extended for user 1 on /api/production-orders
ğŸ”„ Session extended for user 1 on /api/items
ğŸ”„ Session extended for user 1 on /api/customer-products
1:14:28 AM [express] GET /api/users 304 in 126ms :: {"data":"[Array:50]"}
1:14:28 AM [express] GET /api/orders 304 in 128ms :: {"data":"[Array:1]","count":1,"success":true}
1:14:28 AM [express] GET /api/production-orders 304 in 136ms :: {"data":"[Array:1]"}
1:14:28 AM [express] GET /api/items 304 in 136ms :: {"data":"[Array:72]"}
1:14:28 AM [express] GET /api/customers 304 in 381ms :: {"data":"[Array:2172]"}
1:14:29 AM [express] GET /api/customer-products 304 in 859ms :: {"data":"[Array:4817]"}
ğŸ”„ Session extended for user 1 on /api/rolls
ğŸ”„ Session extended for user 1 on /api/machines
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713274840_48u7wgv6k
[SSE] New connection established for user 1, connectionId: 1_1759713274840_48u7wgv6k
1:14:34 AM [express] GET /api/rolls 304 in 123ms :: {"data":"[Array:0]"}
1:14:34 AM [express] GET /api/machines 304 in 122ms :: {"data":"[Array:25]"}
ğŸ”„ Session extended for user 1 on /api/customers
ğŸ”„ Session extended for user 1 on /api/sections
ğŸ”„ Session extended for user 1 on /api/categories
ğŸ”„ Session extended for user 1 on /api/customer-products
ğŸ”„ Session extended for user 1 on /api/items
1:14:38 AM [express] GET /api/categories 304 in 119ms :: {"data":"[Array:10]"}
1:14:38 AM [express] GET /api/sections 304 in 131ms :: {"data":"[Array:7]"}
1:14:38 AM [express] GET /api/items 304 in 121ms :: {"data":"[Array:72]"}
1:14:38 AM [express] GET /api/customers 304 in 363ms :: {"data":"[Array:2172]"}
ğŸ”„ Session extended for user 1 on /api/machines
ğŸ”„ Session extended for user 1 on /api/users
ğŸ”„ Session extended for user 1 on /api/locations
1:14:38 AM [express] GET /api/customer-products 304 in 603ms :: {"data":"[Array:4817]"}
1:14:38 AM [express] GET /api/users 304 in 222ms :: {"data":"[Array:50]"}
1:14:38 AM [express] GET /api/machines 304 in 227ms :: {"data":"[Array:25]"}
ğŸ”„ Session extended for user 1 on /api/roles
1:14:38 AM [express] GET /api/locations 304 in 241ms :: {"data":"[Array:2]"}
1:14:39 AM [express] GET /api/roles 304 in 121ms :: {"data":"[Array:7]"}
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713298283_48835m7fd
[SSE] New connection established for user 1, connectionId: 1_1759713298283_48835m7fd
ğŸ”„ Session extended for user 1 on /api/notifications/user
ğŸ”„ Session extended for user 1 on /api/notifications
1:14:58 AM [express] GET /api/notifications 200 in 314ms :: {"data":"[Array:20]"}
1:14:58 AM [express] GET /api/notifications/user 200 in 495ms :: {"success":true,"notifications":"[Aâ€¦
ğŸ”„ Session extended for user 1 on /api/notifications/delete/11673
1:15:09 AM [express] DELETE /api/notifications/delete/11673 200 in 312ms :: {"success":true,"messageâ€¦
ğŸ”„ Session extended for user 1 on /api/notifications/user
1:15:10 AM [express] GET /api/notifications/user 200 in 300ms :: {"success":true,"notifications":"[Aâ€¦
ğŸ”„ Session extended for user 1 on /api/notifications
1:15:10 AM [express] GET /api/notifications 200 in 121ms :: {"data":"[Array:19]"}
ğŸ”„ Session extended for user 1 on /api/notifications/delete/11671
1:15:11 AM [express] DELETE /api/notifications/delete/11671 200 in 118ms :: {"success":true,"messageâ€¦
ğŸ”„ Session extended for user 1 on /api/notifications
ğŸ”„ Session extended for user 1 on /api/notifications/user
1:15:12 AM [express] GET /api/notifications 200 in 475ms :: {"data":"[Array:18]"}
1:15:12 AM [express] GET /api/notifications/user 200 in 480ms :: {"success":true,"notifications":"[Aâ€¦
ğŸ”„ Session extended for user 1 on /api/customers
ğŸ”„ Session extended for user 1 on /api/items
ğŸ”„ Session extended for user 1 on /api/sections
1:15:17 AM [express] GET /api/items 304 in 122ms :: {"data":"[Array:72]"}
1:15:17 AM [express] GET /api/sections 304 in 331ms :: {"data":"[Array:7]"}
1:15:17 AM [express] GET /api/customers 304 in 357ms :: {"data":"[Array:2172]"}
ğŸ”„ Session extended for user 1 on /api/customer-products
ğŸ”„ Session extended for user 1 on /api/categories
ğŸ”„ Session extended for user 1 on /api/machines
1:15:17 AM [express] GET /api/categories 304 in 124ms :: {"data":"[Array:10]"}
1:15:17 AM [express] GET /api/machines 304 in 117ms :: {"data":"[Array:25]"}
1:15:17 AM [express] GET /api/customer-products 304 in 354ms :: {"data":"[Array:4817]"}
ğŸ”„ Session extended for user 1 on /api/users
ğŸ”„ Session extended for user 1 on /api/locations
ğŸ”„ Session extended for user 1 on /api/roles
1:15:18 AM [express] GET /api/users 304 in 121ms :: {"data":"[Array:50]"}
1:15:18 AM [express] GET /api/locations 304 in 120ms :: {"data":"[Array:2]"}
1:15:18 AM [express] GET /api/roles 304 in 116ms :: {"data":"[Array:7]"}
ğŸ”„ Session extended for user 1 on /api/production/real-time-stats
ğŸ”„ Session extended for user 1 on /api/production/alerts
ğŸ”„ Session extended for user 1 on /api/production/role-performance
ğŸ”„ Session extended for user 1 on /api/production/efficiency-metrics
ğŸ”„ Session extended for user 1 on /api/production/machine-utilization
ğŸ”„ Session extended for user 1 on /api/production/user-performance
1:15:49 AM [express] GET /api/production/real-time-stats 200 in 336ms :: {"currentStats":"[Object]",â€¦
Database error during getUserPerformanceStats: error: column "rolls_created" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:2877:16)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getUserPerformanceStats (/home/runner/workspace/server/storage.ts:2833:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5763:27) {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1472',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching user performance stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getUserPerformanceStats - Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getUserPerformanceStats (/home/runner/workspace/server/storage.ts:2833:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5763:27) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
Database error during getMachineUtilizationStats: error: column "total_weight" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:3170:30)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getMachineUtilizationStats (/home/runner/workspace/server/storage.ts:3163:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5934:34) {
  length: 113,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '884',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching machine utilization stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getMachineUtilizationStats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØ§Ø¦Ù†
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getMachineUtilizationStats (/home/runner/workspace/server/storage.ts:3163:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5934:34) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
Database error during getRolePerformanceStats: error: column "total_weight_kg" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:2895:27)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getRolePerformanceStats (/home/runner/workspace/server/storage.ts:2888:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5805:27) {
  length: 116,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '783',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching role performance stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getRolePerformanceStats - Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getRolePerformanceStats (/home/runner/workspace/server/storage.ts:2888:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5805:27) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
1:15:49 AM [express] GET /api/production/user-performance 500 in 354ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­Øµâ€¦
1:15:49 AM [express] GET /api/production/efficiency-metrics 200 in 366ms :: {"efficiency":"[Object]"â€¦
1:15:49 AM [express] GET /api/production/role-performance 500 in 376ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­Øµâ€¦
1:15:49 AM [express] GET /api/production/machine-utilization 500 in 368ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ â€¦
1:15:49 AM [express] GET /api/production/alerts 200 in 445ms :: {"alerts":"[Array:0]","alertCount":0â€¦
ğŸ”„ Session extended for user 1 on /api/production/user-performance
ğŸ”„ Session extended for user 1 on /api/production/role-performance
ğŸ”„ Session extended for user 1 on /api/production/machine-utilization
Database error during getUserPerformanceStats: error: column "rolls_created" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:2877:16)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getUserPerformanceStats (/home/runner/workspace/server/storage.ts:2833:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5763:27) {
  length: 115,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '1472',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching user performance stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getUserPerformanceStats - Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getUserPerformanceStats (/home/runner/workspace/server/storage.ts:2833:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5763:27) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
Database error during getRolePerformanceStats: error: column "total_weight_kg" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:2895:27)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getRolePerformanceStats (/home/runner/workspace/server/storage.ts:2888:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5805:27) {
  length: 116,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '783',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching role performance stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getRolePerformanceStats - Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getRolePerformanceStats (/home/runner/workspace/server/storage.ts:2888:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5805:27) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
Database error during getMachineUtilizationStats: error: column "total_weight" does not exist
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async <anonymous> (/home/runner/workspace/server/storage.ts:3170:30)
    at async withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:381:12)
    at async DatabaseStorage.getMachineUtilizationStats (/home/runner/workspace/server/storage.ts:3163:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5934:34) {
  length: 113,
  severity: 'ERROR',
  code: '42703',
  detail: undefined,
  hint: undefined,
  position: '884',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '3722',
  routine: 'errorMissingColumn'
}
Error fetching machine utilization stats: DatabaseError: Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø«Ù†Ø§Ø¡ getMachineUtilizationStats - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙƒØ§Ø¦Ù†
    at handleDatabaseError (/home/runner/workspace/server/storage.ts:369:9)
    at withDatabaseErrorHandling (/home/runner/workspace/server/storage.ts:383:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async DatabaseStorage.getMachineUtilizationStats (/home/runner/workspace/server/storage.ts:3163:12)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:5934:34) {
  code: '42703',
  constraint: undefined,
  table: undefined
}
1:15:51 AM [express] GET /api/production/user-performance 500 in 125ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­Øµâ€¦
1:15:51 AM [express] GET /api/production/role-performance 500 in 145ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­Øµâ€¦
1:15:51 AM [express] GET /api/production/machine-utilization 500 in 147ms :: {"message":"Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ â€¦
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713364413_wu4bbjkzd
[SSE] New connection established for user 1, connectionId: 1_1759713364413_wu4bbjkzd
ğŸ”„ Session extended for user 1 on /api/rolls
1:16:04 AM [express] GET /api/rolls 304 in 303ms :: {"data":"[Array:0]"}
1:16:04 AM [express] GET /api/production/hierarchical-orders 304 in 425ms :: {"data":"[Array:1]"}
[Cache] Cleaned up 1 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713405916_mw0aqqwg9
[SSE] New connection established for user 1, connectionId: 1_1759713405916_mw0aqqwg9
ğŸ”„ Session extended for user 1 on /api/notifications
ğŸ”„ Session extended for user 1 on /api/notifications/user
1:16:46 AM [express] GET /api/notifications 200 in 314ms :: {"data":"[Array:0]"}
1:16:46 AM [express] GET /api/notifications/user 304 in 481ms :: {"success":true,"notifications":"[Aâ€¦
ğŸ”„ Session extended for user 1 on /api/production-orders
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713409584_g97nv77wj
[SSE] New connection established for user 1, connectionId: 1_1759713409584_g97nv77wj
1:16:49 AM [express] GET /api/production-orders 304 in 122ms :: {"data":"[Array:1]"}
ğŸ”„ Session extended for user 1 on /api/orders
1:16:50 AM [express] GET /api/orders 304 in 119ms :: {"data":"[Array:1]","count":1,"success":true}
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:57 AM [express] POST /api/production-orders/preview-quantities 200 in 678ms :: {"success":true,â€¦
1:17:57 AM [express] POST /api/production-orders/preview-quantities 200 in 717ms :: {"success":true,â€¦
1:17:57 AM [express] POST /api/production-orders/preview-quantities 200 in 744ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:58 AM [express] POST /api/production-orders/preview-quantities 200 in 220ms :: {"success":true,â€¦
1:17:58 AM [express] POST /api/production-orders/preview-quantities 200 in 318ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:58 AM [express] POST /api/production-orders/preview-quantities 200 in 244ms :: {"success":true,â€¦
1:17:58 AM [express] POST /api/production-orders/preview-quantities 200 in 358ms :: {"success":true,â€¦
1:17:58 AM [express] POST /api/production-orders/preview-quantities 200 in 168ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:59 AM [express] POST /api/production-orders/preview-quantities 200 in 191ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:59 AM [express] POST /api/production-orders/preview-quantities 200 in 168ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:17:59 AM [express] POST /api/production-orders/preview-quantities 200 in 190ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:00 AM [express] POST /api/production-orders/preview-quantities 200 in 200ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:00 AM [express] POST /api/production-orders/preview-quantities 200 in 176ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:01 AM [express] POST /api/production-orders/preview-quantities 200 in 179ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:01 AM [express] POST /api/production-orders/preview-quantities 200 in 172ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:02 AM [express] POST /api/production-orders/preview-quantities 200 in 234ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:02 AM [express] POST /api/production-orders/preview-quantities 200 in 243ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:03 AM [express] POST /api/production-orders/preview-quantities 200 in 195ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:03 AM [express] POST /api/production-orders/preview-quantities 200 in 230ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:04 AM [express] POST /api/production-orders/preview-quantities 200 in 235ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:04 AM [express] POST /api/production-orders/preview-quantities 200 in 210ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:05 AM [express] POST /api/production-orders/preview-quantities 200 in 167ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:05 AM [express] POST /api/production-orders/preview-quantities 200 in 217ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:06 AM [express] POST /api/production-orders/preview-quantities 200 in 214ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:06 AM [express] POST /api/production-orders/preview-quantities 200 in 202ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:07 AM [express] POST /api/production-orders/preview-quantities 200 in 163ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:07 AM [express] POST /api/production-orders/preview-quantities 200 in 240ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:08 AM [express] POST /api/production-orders/preview-quantities 200 in 219ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:11 AM [express] POST /api/production-orders/preview-quantities 200 in 508ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:11 AM [express] POST /api/production-orders/preview-quantities 200 in 198ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:11 AM [express] POST /api/production-orders/preview-quantities 200 in 176ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:11 AM [express] POST /api/production-orders/preview-quantities 200 in 175ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
ğŸ”„ Session extended for user 1 on /api/production-orders/preview-quantities
1:18:23 AM [express] POST /api/production-orders/preview-quantities 200 in 671ms :: {"success":true,â€¦
1:18:23 AM [express] POST /api/production-orders/preview-quantities 200 in 714ms :: {"success":true,â€¦
1:18:23 AM [express] POST /api/production-orders/preview-quantities 200 in 693ms :: {"success":true,â€¦
ğŸ”„ Session extended for user 1 on /api/orders/next-number
1:18:26 AM [express] GET /api/orders/next-number 200 in 117ms :: {"orderNumber":"ORD002"}
ğŸ”„ Session extended for user 1 on /api/orders
ğŸ” Validating request body: {
  "order_number": "ORD002",
  "customer_id": "CID083",
  "delivery_days": 15,
  "notes": "",
  "created_by": "1"
}
âœ… Validation successful
[DataValidator] ğŸ”’ Validating orders entity: {
  tableName: 'orders',
  isUpdate: false,
  dataKeys: [
    'order_number',
    'customer_id',
    'delivery_days',
    'status',
    'notes',
    'created_by',
    'delivery_date'
  ]
}
[DataValidator] âœ… Validation passed for orders
[Storage] âœ… Order validation passed, proceeding with database write
1:18:27 AM [express] POST /api/orders 201 in 148ms :: {"data":"[Object]","message":"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø¨â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders
[DataValidator] ğŸ”’ Validating production_orders entity: {
  tableName: 'production_orders',
  isUpdate: false,
  dataKeys: [
    'order_id',
    'customer_product_id',
    'quantity_kg',
    'overrun_percentage',
    'status'
  ]
}
[DataValidator] âœ… Validation passed for production_orders
[Storage] âœ… Production order validation passed, proceeding with database write
Created production order PO002 with intelligent quantities: {
  baseQuantity: 1000,
  punchingType: 'Ø¨Ø¯ÙˆÙ†',
  overrunPercentage: 5,
  finalQuantity: 1050,
  reason: 'Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ'
}
1:18:28 AM [express] POST /api/production-orders 201 in 914ms :: {"id":44,"production_order_number":â€¦
ğŸ”„ Session extended for user 1 on /api/production-orders
[DataValidator] ğŸ”’ Validating production_orders entity: {
  tableName: 'production_orders',
  isUpdate: false,
  dataKeys: [
    'order_id',
    'customer_product_id',
    'quantity_kg',
    'overrun_percentage',
    'status'
  ]
}
[DataValidator] âœ… Validation passed for production_orders
[Storage] âœ… Production order validation passed, proceeding with database write
Created production order PO003 with intelligent quantities: {
  baseQuantity: 600,
  punchingType: 'Ø¨Ø¯ÙˆÙ†',
  overrunPercentage: 5,
  finalQuantity: 630,
  reason: 'Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ'
}
1:18:29 AM [express] POST /api/production-orders 201 in 636ms :: {"id":45,"production_order_number":â€¦
ğŸ”„ Session extended for user 1 on /api/orders
ğŸ”„ Session extended for user 1 on /api/production-orders
1:18:29 AM [express] GET /api/orders 200 in 119ms :: {"data":"[Array:2]","count":2,"success":true}
1:18:30 AM [express] GET /api/production-orders 200 in 471ms :: {"data":"[Array:3]"}
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
ğŸ”„ Session extended for user 1 on /api/production/cutting-queue
ğŸ”„ Session extended for user 1 on /api/notifications
ğŸ”„ Session extended for user 1 on /api/production/grouped-cutting-queue
1:19:50 AM [express] GET /api/notifications 304 in 344ms :: {"data":"[Array:0]"}
1:19:50 AM [express] GET /api/production/cutting-queue 304 in 347ms :: {"data":"[Array:0]"}
1:19:50 AM [express] GET /api/production/grouped-cutting-queue 304 in 120ms :: {"data":"[Array:0]"}
1:19:50 AM [express] GET /api/production/hierarchical-orders 200 in 514ms :: {"data":"[Array:2]"}
ğŸ”„ Session extended for user 1 on /api/production/film-queue
ğŸ”„ Session extended for user 1 on /api/production/printing-queue
ğŸ”„ Session extended for user 1 on /api/machines
ğŸ”„ Session extended for user 1 on /api/rolls
1:19:50 AM [express] GET /api/production/printing-queue 304 in 121ms :: {"data":"[Array:0]"}
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713590731_6c1zcnrjt
[SSE] New connection established for user 1, connectionId: 1_1759713590731_6c1zcnrjt
1:19:50 AM [express] GET /api/production/film-queue 304 in 127ms :: {"data":"[Array:1]"}
1:19:50 AM [express] GET /api/machines 304 in 129ms :: {"data":"[Array:25]"}
1:19:50 AM [express] GET /api/rolls 304 in 303ms :: {"data":"[Array:0]"}
ğŸ”„ Session extended for user 1 on /api/customer-products
ğŸ”„ Session extended for user 1 on /api/users
ğŸ”„ Session extended for user 1 on /api/customers
ğŸ”„ Session extended for user 1 on /api/items
1:19:57 AM [express] GET /api/users 304 in 120ms :: {"data":"[Array:50]"}
1:19:57 AM [express] GET /api/items 304 in 126ms :: {"data":"[Array:72]"}
1:19:57 AM [express] GET /api/customers 304 in 368ms :: {"data":"[Array:2172]"}
1:19:57 AM [express] GET /api/customer-products 304 in 679ms :: {"data":"[Array:4817]"}
ğŸ”„ Session extended for user 1 on /api/orders/74/status
[DataValidator] ğŸ”„ Validating status transition for orders: { entityId: 74, currentStatus: 'waiting', newStatus: 'for_production' }
[DataValidator] âœ… Valid status transition: waiting â†’ for_production
[Storage] âœ… Valid status transition: waiting â†’ for_production
1:20:00 AM [express] PATCH /api/orders/74/status 200 in 617ms :: {"data":"[Object]","message":"ØªÙ… ØªØºâ€¦
ğŸ”„ Session extended for user 1 on /api/orders
ğŸ”„ Session extended for user 1 on /api/production-orders
1:20:00 AM [express] GET /api/orders 200 in 119ms :: {"data":"[Array:2]","count":2,"success":true}
1:20:00 AM [express] GET /api/production-orders 200 in 120ms :: {"data":"[Array:3]"}
[NotificationManager] Running memory cleanup...
[NotificationManager] Memory cleanup completed. Active connections: 0, Cleaned invalid: 0
ğŸ”„ Session extended for user 1 on /api/notifications/stream
[NotificationManager] Adding SSE connection for user 1, connection: 1_1759713605916_k1nbeyhtg
[SSE] New connection established for user 1, connectionId: 1_1759713605916_k1nbeyhtg
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
1:20:06 AM [express] GET /api/production/hierarchical-orders 200 in 240ms :: {"data":"[Array:2]"}
[Cache] Cleaned up 1 stale entries. Active: 1
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
1:21:37 AM [express] GET /api/production/hierarchical-orders 304 in 429ms :: {"data":"[Array:2]"}
[Cache] Cleaned up 1 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
1:23:08 AM [express] GET /api/production/hierarchical-orders 304 in 444ms :: {"data":"[Array:2]"}
[Cache] Cleaned up 1 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/production/hierarchical-orders
1:24:44 AM [express] GET /api/production/hierarchical-orders 304 in 2562ms :: {"data":"[Array:2]"}
[SystemHealthMonitor] ØªÙ… Ø±ØµØ¯ Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
[SystemHealthMonitor] ÙØ­Øµ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
[SystemHealthMonitor] ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙƒØ§Ø¦Ù†
[SystemHealthMonitor] ÙØ­Øµ Ø§Ù„Ù…ÙˆØ§Ø¯ Ù‚Ù„ÙŠÙ„Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
[SystemHealthMonitor] ØªÙ… ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
[Cache] Cleaned up 1 stale entries. Active: 0
ğŸ”„ Session extended for user 1 on /api/notifications
1:26:13 AM [express] GET /api/notifications 304 in 302ms :: {"data":"[Array:0]"}
ğŸ”„ Session extended for user 1 on /api/customers
ğŸ”„ Session extended for user 1 on /api/items
1:26:14 AM [express] GET /api/items 304 in 311ms :: {"data":"[Array:72]"}
ğŸ”„ Session extended for user 1 on /api/sections
ğŸ”„ Session extended for user 1 on /api/categories
ğŸ”„ Session extended for user 1 on /api/customer-products
1:26:14 AM [express] GET /api/customers 304 in 380ms :: {"data":"[Array:2172]"}
ğŸ”„ Session extended for user 1 on /api/machines
1:26:14 AM [express] GET /api/sections 304 in 116ms :: {"data":"[Array:7]"}
1:26:14 AM [express] GET /api/categories 304 in 152ms :: {"data":"[Array:10]"}
1:26:14 AM [express] GET /api/machines 304 in 310ms :: {"data":"[Array:25]"}
ğŸ”„ Session extended for user 1 on /api/users
ğŸ”„ Session extended for user 1 on /api/locations
ğŸ”„ Session extended for user 1 on /api/roles
1:26:15 AM [express] GET /api/customer-products 200 in 840ms :: {"data":"[Array:4817]"}
1:26:15 AM [express] GET /api/users 304 in 118ms :: {"data":"[Array:50]"}
1:26:15 AM [express] GET /api/roles 304 in 118ms :: {"data":"[Array:7]"}
1:26:15 AM [express] GET /api/locations 304 in 120ms :: {"data":"[Array:2]"}
ğŸ”„ Session extended for user 1 on /api/customer-products/33
Customer product validation error: [
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'width' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'left_facing' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'right_facing' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'thickness' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'unit_weight_kg' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'package_weight_kg' ],
    message: 'Expected string, received number'
  }
]
ğŸ”„ Session extended for user 1 on /api/customer-products/33
Customer product validation error: [
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'width' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'left_facing' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'right_facing' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'thickness' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'unit_weight_kg' ],
    message: 'Expected string, received number'
  },
  {
    code: 'invalid_type',
    expected: 'string',
    received: 'number',
    path: [ 'package_weight_kg' ],
    message: 'Expected string, received number'
  }
]
1:27:42 AM [express] PUT /api/customer-products/33 400 in 2412ms :: {"message":"Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©","eâ€¦
[NotificationManager] Running memory cleanup...
[NotificationManager] Memory cleanup completed. Active connections: 0, Cleaned invalid: 0
[SystemHealthMonitor] ØªÙ… ØªØ­Ø³Ù† Ø­Ø§Ù„Ø© Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† healthy Ø¥Ù„Ù‰ warning
[DatabaseStorage] ØªÙ… ØªØ³Ø¬ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø°ÙŠØ± ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©: Database Connection_health_alert ÙÙŠ 2025-10-06T01:30:15.135Z
[SystemHealthMonitor] ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø°ÙŠØ±: Database Connection_health_alert ÙÙŠ 2025-10-06T01:30:15.135Z
[SystemHealthMonitor] ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªØ­Ø°ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…: Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù†Ø¸Ø§Ù…: Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
[SystemHealthMonitor] ØªÙ… ØªØ­Ø³Ù† Ø­Ø§Ù„Ø© Ø£Ø¯Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† healthy Ø¥Ù„Ù‰ warning
[DatabaseStorage] ØªÙ… ØªØ³Ø¬ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø°ÙŠØ± ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©: Database Performance_health_alert ÙÙŠ 2025-10-06T01:30:15.435Z
[SystemHealthMonitor] ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­Ø°ÙŠØ±: Database Performance_health_alert ÙÙŠ 2025-10-06T01:30:15.435Z
[SystemHealthMonitor] ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªØ­Ø°ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…: Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù†Ø¸Ø§Ù…: Ø£Ø¯Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª